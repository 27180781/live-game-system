!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AgoraRTM=t():e.AgoraRTM=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>ie});const r="AGORA_RTM_LOG";var n=Object.freeze({__proto__:null,CUSTOM_LOG_PREFIX:r,SDK_LOG_PREFIX:`${r}: `});const o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}var c,l;!function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR",e[e.NONE=5]="NONE"}(c||(c={})),function(e){e[e.LOG_FILTER_OFF=0]="LOG_FILTER_OFF",e[e.LOG_FILTER_ERROR=1]="LOG_FILTER_ERROR",e[e.LOG_FILTER_INFO=2]="LOG_FILTER_INFO",e[e.LOG_FILTER_WARNING=4]="LOG_FILTER_WARNING",e[e.LOG_FILTER_DEBUG=8]="LOG_FILTER_DEBUG",e[e.LOG_FILTER_CRITICAL=16]="LOG_FILTER_CRITICAL"}(l||(l={}));const u=["NONE","ERROR","WARNING","INFO","DEBUG"],p=1;class d{constructor(){this.level=p}setLevel(e){this.level="number"==typeof e?e:u.indexOf(e.toUpperCase()),this.level<0&&(this.level=p)}log(e,t,r,o,s,i,a,l,p){const d=u.indexOf(e.toUpperCase());if(!(d<0)&&d>this.level)return;let f="";f=r?`${n.SDK_LOG_PREFIX}${e}: Agora-SDK [${t}] ${r}`:`${n.SDK_LOG_PREFIX}${e}: Agora-SDK [${t}]`,this.level>=c.DEBUG?console.log(f,o||"",s||"",i||"",a||"",l||"",p||""):this.level>=c.INFO?"INFO"===e&&console.log(f,o||"",s||"",i||"",a||"",l||"",p||""):"ERROR"===e?console.error(f,o||"",s||"",i||"",a||"",l||"",p||""):"WARNING"===e&&console.warn(f,o||"",s||"",i||"",a||"",l||"",p||"")}debug(e,t,r,o,s,i,a,l){this.log("DEBUG",e,t,r,o,s,i,a,l)}info(e,t,r,o,s,i,a,l){this.log("INFO",e,t,r,o,s,i,a,l)}warning(e,t,r,o,s,i,a,l){this.log("WARNING",e,t,r,o,s,i,a,l)}error(e,t,r,o,s,i,a,l){this.log("ERROR",e,t,r,o,s,i,a,l)}logWithoutPrefix(e,t){console.log(`${r}: ${e}`,t||"")}}const f=new d,h=e=>f.setLevel(e),m=e=>new Promise((t=>setTimeout(t,e)));async function g(e,t,r,n){let o;if(t){const r={};for(const e in t)t[e]&&Object.assign(r,{[e]:t[e]});o=r}const s=await(async function(e,t,r){const n=new AbortController,o=setTimeout((()=>n.abort()),r);try{const r=await fetch(e,t);return clearTimeout(o),r}catch(e){throw clearTimeout(o),e}}(e,{signal:(a=n,a?a.signal:void 0),...t},{...o,headers:{"Content-Type":"application/json",...o&&o.headers}}));var i,a;const c=s.status,l=await s.json();return 200!==c&&f.error("Http-Request","request failed:",`url: ${e}, status: ${c}`),l}function b(e,t){const r={};for(const t in e)e[t]&&Object.assign(r,{[t]:e[t]});return g(t||"https://api.agora.io/dev/v2/project/rtm/token",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})}var y,_,S,v,k,w,A,C,I,T,L,E,R,M,O;!function(e){e[e.UNSET=0]="UNSET",e[e.LOGIN_SUCCESS=1]="LOGIN_SUCCESS",e[e.LOGIN_FAILURE=2]="LOGIN_FAILURE",e[e.LOGIN_TIMEOUT=3]="LOGIN_TIMEOUT",e[e.INTERRUPTED=4]="INTERRUPTED",e[e.LOGOUT_SUCCESS=5]="LOGOUT_SUCCESS",e[e.LOGOUT_FAILURE=6]="LOGOUT_FAILURE",e[e.LOGOUT_TIMEOUT=7]="LOGOUT_TIMEOUT",e[e.LOGIN_BANNED=8]="LOGIN_BANNED",e[e.LOGIN_ALREADY_LOGIN=9]="LOGIN_ALREADY_LOGIN",e[e.LOGIN_TOKEN_EXPIRED=10]="LOGIN_TOKEN_EXPIRED",e[e.LOGIN_TOKEN_INVALID=11]="LOGIN_TOKEN_INVALID",e[e.LOGIN_UNKNOWN=12]="LOGIN_UNKNOWN",e[e.LOGOUT_KICKED=13]="LOGOUT_KICKED",e[e.RECONNECT_STARTED=14]="RECONNECT_STARTED",e[e.RECONNECT_SUCCESS=15]="RECONNECT_SUCCESS",e[e.RECONNECT_FAILURE=16]="RECONNECT_FAILURE",e[e.RECONNECT_TIMEOUT=17]="RECONNECT_TIMEOUT"}(y||(y={})),function(e){e.UNSET="UNSET",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.LOGIN_FAILURE="LOGIN_FAILURE",e.LOGIN_TIMEOUT="LOGIN_TIMEOUT",e.INTERRUPTED="INTERRUPTED",e.LOGOUT_SUCCESS="LOGOUT_SUCCESS",e.LOGOUT_FAILURE="LOGOUT_FAILURE",e.LOGOUT_TIMEOUT="LOGOUT_TIMEOUT",e.LOGIN_BANNED="LOGIN_BANNED",e.LOGIN_ALREADY_LOGIN="LOGIN_ALREADY_LOGIN",e.LOGIN_TOKEN_EXPIRED="LOGIN_TOKEN_EXPIRED",e.LOGIN_TOKEN_INVALID="LOGIN_TOKEN_INVALID",e.LOGIN_UNKNOWN="LOGIN_UNKNOWN",e.LOGOUT_KICKED="LOGOUT_KICKED",e.RECONNECT_STARTED="RECONNECT_STARTED",e.RECONNECT_SUCCESS="RECONNECT_SUCCESS",e.RECONNECT_FAILURE="RECONNECT_FAILURE",e.RECONNECT_TIMEOUT="RECONNECT_TIMEOUT"}(_||(_={})),function(e){e[e.UNSET=0]="UNSET",e[e.FAILURE=1]="FAILURE",e[e.TIMEOUT=2]="TIMEOUT",e[e.TOO_OFTEN=3]="TOO_OFTEN",e[e.NOT_LOGIN=4]="NOT_LOGIN",e[e.NOT_IN_CHANNEL=5]="NOT_IN_CHANNEL"}(S||(S={})),function(e){e[e.UNSET=0]="UNSET",e[e.JOIN_SUCCESS=1]="JOIN_SUCCESS",e[e.JOIN_FAILURE=2]="JOIN_FAILURE",e[e.JOIN_TIMEOUT=3]="JOIN_TIMEOUT",e[e.LEAVE_SUCCESS=4]="LEAVE_SUCCESS",e[e.LEAVE_FAILURE=5]="LEAVE_FAILURE",e[e.LEAVE_TIMEOUT=6]="LEAVE_TIMEOUT",e[e.JOIN_ALREADY_JOIN=7]="JOIN_ALREADY_JOIN",e[e.JOIN_TOKEN_EXPIRED=8]="JOIN_TOKEN_EXPIRED",e[e.LEAVE_KICKED=9]="LEAVE_KICKED",e[e.JOIN_KICKED=10]="JOIN_KICKED",e[e.REACH_LIMIT=11]="REACH_LIMIT"}(v||(v={})),function(e){e[e.UNSET=0]="UNSET",e[e.SUCCESS=1]="SUCCESS",e[e.FAILURE=2]="FAILURE",e[e.TIMEOUT=3]="TIMEOUT",e[e.TOO_OFTEN=4]="TOO_OFTEN",e[e.NOT_LOGIN=5]="NOT_LOGIN",e[e.INVALID_ARGUMENT=6]="INVALID_ARGUMENT"}(k||(k={})),function(e){e[e.UNSET=0]="UNSET",e[e.SUCCESS=1]="SUCCESS",e[e.FAILURE=2]="FAILURE",e[e.TIMEOUT=3]="TIMEOUT",e[e.TOO_OFTEN=4]="TOO_OFTEN",e[e.NOT_LOGIN=5]="NOT_LOGIN",e[e.INVALID_RECIPIENT=6]="INVALID_RECIPIENT",e[e.INVALID_ARGUMENT=7]="INVALID_ARGUMENT"}(w||(w={})),function(e){e[e.UNSET=0]="UNSET",e[e.SUCCESS=1]="SUCCESS",e[e.FAILURE=2]="FAILURE"}(A||(A={})),function(e){e[e.UNSET=0]="UNSET",e[e.ERR_OK=0]="ERR_OK",e.ERR_FAILURE=1,e.ERR_NOT_INITIALIZED=2,e.ERR_NOT_LOGIN=3,e.ERR_INVALID_ARGUMENT=4,e.ERR_INVALID_STATE=5,e.ERR_INVALID_CHANNEL_NAME=101,e.ERR_INVALID_TOKEN=102,e.ERR_INVALID_USER_ID=103,e.ERR_LOGIN_TIMEOUT=201,e.ERR_LOGIN_ALREADY_LOGIN=202,e.ERR_LOGIN_BANNED=203,e.ERR_LOGIN_TOKEN_EXPIRED=204,e.ERR_LOGOUT_TIMEOUT=301,e.ERR_LOGOUT_NOT_LOGIN=302,e.ERR_LOGOUT_KICKED=303,e.ERR_JOIN_CHANNEL_TIMEOUT=401,e.ERR_JOIN_CHANNEL_ALREADY_JOIN=402,e.ERR_JOIN_CHANNEL_FAILURE=403,e.ERR_JOIN_CHANNEL_REACH_LIMIT=404,e.ERR_JOIN_CHANNEL_TOKEN_EXPIRED=405,e.ERR_LEAVE_CHANNEL_TIMEOUT=501,e.ERR_LEAVE_CHANNEL_NOT_IN_CHANNEL=502,e.ERR_LEAVE_CHANNEL_FAILURE=503,e.ERR_LEAVE_CHANNEL_KICKED=504,e.ERR_SEND_CHANNEL_MESSAGE_TIMEOUT=601,e.ERR_SEND_CHANNEL_MESSAGE_FAILURE=602,e.ERR_SEND_PEER_MESSAGE_TIMEOUT=701,e.ERR_SEND_PEER_MESSAGE_FAILURE=702,e.ERR_INVALID_RECIPIENT=703,e.ERR_GET_CHANNEL_MEMBERS_TIMEOUT=801,e.ERR_GET_CHANNEL_MEMBERS_FAILURE=802,e.ERR_GET_CHANNEL_MEMBERS_NOT_IN_CHANNEL=803,e.ERR_GET_CHANNEL_MEMBERS_REACH_LIMIT=804,e.ERR_GET_CHANNEL_ATTRIBUTES_TIMEOUT=901,e.ERR_GET_CHANNEL_ATTRIBUTES_FAILURE=902,e.ERR_SET_CHANNEL_ATTRIBUTES_TIMEOUT=1001,e.ERR_SET_CHANNEL_ATTRIBUTES_FAILURE=1002,e.ERR_SET_CHANNEL_ATTRIBUTES_TOO_OFTEN=1003,e.ERR_SET_CHANNEL_ATTRIBUTES_INVALID_ARGUMENT=1004,e.ERR_DELETE_CHANNEL_ATTRIBUTES_TIMEOUT=1101,e.ERR_DELETE_CHANNEL_ATTRIBUTES_FAILURE=1102,e.ERR_DELETE_CHANNEL_ATTRIBUTES_TOO_OFTEN=1103,e.ERR_SUBSCRIBE_PEERS_ONLINE_STATUS_TIMEOUT=1201,e.ERR_SUBSCRIBE_PEERS_ONLINE_STATUS_FAILURE=1202,e.ERR_SUBSCRIBE_PEERS_ONLINE_STATUS_TOO_OFTEN=1203,e.ERR_UNSUBSCRIBE_PEERS_ONLINE_STATUS_TIMEOUT=1301,e.ERR_UNSUBSCRIBE_PEERS_ONLINE_STATUS_FAILURE=1302,e.ERR_GET_SUBSCRIBED_PEERS_ONLINE_STATUS_TIMEOUT=1401,e.ERR_GET_SUBSCRIBED_PEERS_ONLINE_STATUS_FAILURE=1402,e.ERR_QUERY_PEERS_ONLINE_STATUS_TIMEOUT=1501,e.ERR_QUERY_PEERS_ONLINE_STATUS_FAILURE=1502,e.ERR_QUERY_PEERS_ONLINE_STATUS_TOO_OFTEN=1503,e.ERR_QUERY_PEERS_ONLINE_STATUS_INVALID_ARGUMENT=1504,e.ERR_SET_LOCAL_USER_ATTRIBUTES_TIMEOUT=1601,e.ERR_SET_LOCAL_USER_ATTRIBUTES_FAILURE=1602,e.ERR_SET_LOCAL_USER_ATTRIBUTES_INVALID_ARGUMENT=1603,e.ERR_DELETE_LOCAL_USER_ATTRIBUTES_TIMEOUT=1701,e.ERR_DELETE_LOCAL_USER_ATTRIBUTES_FAILURE=1702,e.ERR_CLEAR_LOCAL_USER_ATTRIBUTES_TIMEOUT=1801,e.ERR_CLEAR_LOCAL_USER_ATTRIBUTES_FAILURE=1802,e.ERR_GET_USER_ATTRIBUTES_TIMEOUT=1901,e.ERR_GET_USER_ATTRIBUTES_FAILURE=1902,e.ERR_GET_USER_ATTRIBUTES_TOO_OFTEN=1903,e.ERR_RECONNECTING_TIMEOUT=2001,e.ERR_CONNECTION_INTERRUPTED=2002,e.ERR_CONNECTION_STATE_ABORTED=2003,e.ERR_CONNECTION_BANNED=2004}(C||(C={})),function(e){e[e.MESSAGE_TYPE_UNDEFINED=0]="MESSAGE_TYPE_UNDEFINED",e[e.MESSAGE_TYPE_TEXT=1]="MESSAGE_TYPE_TEXT",e[e.MESSAGE_TYPE_RAW=2]="MESSAGE_TYPE_RAW"}(I||(I={})),function(e){e.UNSET="UNSET",e.TEXT="TEXT",e.RAW="RAW"}(T||(T={})),function(e){e[e.CONNECTION_STATE_DISCONNECTED=1]="CONNECTION_STATE_DISCONNECTED",e[e.CONNECTION_STATE_CONNECTING=2]="CONNECTION_STATE_CONNECTING",e[e.CONNECTION_STATE_CONNECTED=3]="CONNECTION_STATE_CONNECTED",e[e.CONNECTION_STATE_RECONNECTING=4]="CONNECTION_STATE_RECONNECTING",e[e.CONNECTION_STATE_ABORTED=5]="CONNECTION_STATE_ABORTED"}(L||(L={})),function(e){e.DISCONNECTED="DISCONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e.RECONNECTING="RECONNECTING",e.ABORTED="ABORTED"}(E||(E={})),function(e){e[e.CONNECTION_CHANGE_REASON_LOGIN=1]="CONNECTION_CHANGE_REASON_LOGIN",e[e.CONNECTION_CHANGE_REASON_LOGIN_SUCCESS=2]="CONNECTION_CHANGE_REASON_LOGIN_SUCCESS",e[e.CONNECTION_CHANGE_REASON_LOGIN_FAILURE=3]="CONNECTION_CHANGE_REASON_LOGIN_FAILURE",e[e.CONNECTION_CHANGE_REASON_LOGIN_TIMEOUT=4]="CONNECTION_CHANGE_REASON_LOGIN_TIMEOUT",e[e.CONNECTION_CHANGE_REASON_LOGIN_BANNED=5]="CONNECTION_CHANGE_REASON_LOGIN_BANNED",e[e.CONNECTION_CHANGE_REASON_LOGIN_INTERRUPTED=6]="CONNECTION_CHANGE_REASON_LOGIN_INTERRUPTED",e[e.CONNECTION_CHANGE_REASON_LOGOUT=7]="CONNECTION_CHANGE_REASON_LOGOUT",e[e.CONNECTION_CHANGE_REASON_LOGOUT_SUCCESS=8]="CONNECTION_CHANGE_REASON_LOGOUT_SUCCESS",e[e.CONNECTION_CHANGE_REASON_LOGOUT_FAILURE=9]="CONNECTION_CHANGE_REASON_LOGOUT_FAILURE",e[e.CONNECTION_CHANGE_REASON_LOGOUT_TIMEOUT=10]="CONNECTION_CHANGE_REASON_LOGOUT_TIMEOUT",e[e.CONNECTION_CHANGE_REASON_LOGOUT_KICKED=11]="CONNECTION_CHANGE_REASON_LOGOUT_KICKED",e[e.CONNECTION_CHANGE_REASON_LOGOUT_BANNED=12]="CONNECTION_CHANGE_REASON_LOGOUT_BANNED",e[e.CONNECTION_CHANGE_REASON_LOGIN_TOKEN_EXPIRED=13]="CONNECTION_CHANGE_REASON_LOGIN_TOKEN_EXPIRED",e[e.CONNECTION_CHANGE_REASON_LOGIN_TOKEN_INVALID=14]="CONNECTION_CHANGE_REASON_LOGIN_TOKEN_INVALID",e[e.CONNECTION_CHANGE_REASON_RECONNECT_STARTED=15]="CONNECTION_CHANGE_REASON_RECONNECT_STARTED",e[e.CONNECTION_CHANGE_REASON_RECONNECT_SUCCESS=16]="CONNECTION_CHANGE_REASON_RECONNECT_SUCCESS",e[e.CONNECTION_CHANGE_REASON_RECONNECT_FAILURE=17]="CONNECTION_CHANGE_REASON_RECONNECT_FAILURE",e[e.CONNECTION_CHANGE_REASON_RECONNECT_TIMEOUT=18]="CONNECTION_CHANGE_REASON_RECONNECT_TIMEOUT",e[e.CONNECTION_CHANGE_REASON_BANNED_BY_SERVER=19]="CONNECTION_CHANGE_REASON_BANNED_BY_SERVER"}(R||(R={})),function(e){e.LOGIN="LOGIN",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.LOGIN_FAILURE="LOGIN_FAILURE",e.LOGIN_TIMEOUT="LOGIN_TIMEOUT",e.LOGIN_BANNED="LOGIN_BANNED",e.LOGIN_INTERRUPTED="LOGIN_INTERRUPTED",e.LOGOUT="LOGOUT",e.LOGOUT_SUCCESS="LOGOUT_SUCCESS",e.LOGOUT_FAILURE="LOGOUT_FAILURE",e.LOGOUT_TIMEOUT="LOGOUT_TIMEOUT",e.LOGOUT_KICKED="LOGOUT_KICKED",e.LOGOUT_BANNED="LOGOUT_BANNED",e.LOGIN_TOKEN_EXPIRED="LOGIN_TOKEN_EXPIRED",e.LOGIN_TOKEN_INVALID="LOGIN_TOKEN_INVALID",e.RECONNECT_STARTED="RECONNECT_STARTED",e.RECONNECT_SUCCESS="RECONNECT_SUCCESS",e.RECONNECT_FAILURE="RECONNECT_FAILURE",e.RECONNECT_TIMEOUT="RECONNECT_TIMEOUT",e.BANNED_BY_SERVER="BANNED_BY_SERVER"}(M||(M={})),function(e){e[e.PEER_ONLINE_STATE_UNAVAILABLE=0]="PEER_ONLINE_STATE_UNAVAILABLE",e[e.PEER_ONLINE_STATE_REACHABLE=1]="PEER_ONLINE_STATE_REACHABLE",e[e.PEER_ONLINE_STATE_UNREACHABLE=2]="PEER_ONLINE_STATE_UNREACHABLE"}(O||(O={}));class P extends(function(){function e(){this.eventList={}}return e.prototype.on=function(e,t){return this.eventList[e]||(this.eventList[e]=[]),this.eventList[e].push(t),this},e.prototype.once=function(e,t){var r=this,n=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];r.removeListener(e,n),t.apply(r,o)};return this.on(e,n)},e.prototype.emit=function(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var s=this.eventList[e];if(s)try{for(var i=function(e){for(var t=0,r=e.length,n=new Array(r);t<r;t++)n[t]=e[t];return n}(s),a=0,c=i;a<c.length;a++){var l=c[a];l.apply(this,n)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!1},e.prototype.removeListener=function(e,t){var r=this.eventList[e];if(r){for(var n=0;n<r.length;n++)if(r[n]===t)return r.splice(n,1),0===r.length&&(delete this.eventList[e],!0);return!1}},e.prototype.removeAllListeners=function(e){var t=this;if(e)delete this.eventList[e];else if(Object.keys(this.eventList).length>0){var r=Object.keys(this.eventList);r.forEach((function(e){delete t.eventList[e]}))}return this},e}()){constructor(e,t,r){super(),this.appId=e,this.userId=t,this.logger=r}}let N,D=0;const x=()=>Date.now(),G=()=>{N||(N=new class{constructor(){this.prefix="ts",this.id=0}getId(){return`${this.prefix}-${x()}-${this.id++}`}}),N.getId()},U=()=>`${x()}-${D++}`;class F extends P{constructor(e,t,r){super(e,t,r),this.channelName=t,this.logger=r,this.status=L.DISCONNECTED}async join(){f.info(this.constructor.name,"join()",this.channelName)}async leave(){f.info(this.constructor.name,"leave()",this.channelName)}sendMessage(e,t){throw C.ERR_INVALID_STATE}getMembers(){throw C.ERR_INVALID_STATE}}class j extends P{constructor(e,t){super(e.appId,e.userId,e.logger),this.channels={},this.connectionState=L.DISCONNECTED,this.messageId="",this.logger=f,this.isInitialized=!1,this.rtm=e,this.init()}init(){this.isInitialized=!0,f.info(this.constructor.name,"init()")}createChannel(e){if(this.channels[e])return this.channels[e];const t=new F(this.appId,e,this.logger);return this.channels[e]=t,t}async login(e){return f.info(this.constructor.name,"login()",e),{status:{error:!1,reason:_.LOGIN_SUCCESS}}}async logout(){return f.info(this.constructor.name,"logout()"),{status:{error:!1,reason:_.LOGOUT_SUCCESS}}}async sendMessageToPeer(e,t,r){return f.info(this.constructor.name,"sendMessageToPeer",e.text),{status:{error:!1,reason:w.SUCCESS}}}async setLocalUserAttributes(e){return f.info(this.constructor.name,"setLocalUserAttributes()",e),{status:{error:!1,reason:k.SUCCESS}}}async addOrUpdateLocalUserAttributes(e){return f.info(this.constructor.name,"addOrUpdateLocalUserAttributes()",e),{status:{error:!1,reason:k.SUCCESS}}}async deleteLocalUserAttributesByKeys(e){return f.info(this.constructor.name,"deleteLocalUserAttributesByKeys()",e),{status:{error:!1,reason:k.SUCCESS}}}async clearLocalUserAttributes(){return f.info(this.constructor.name,"clearLocalUserAttributes()"),{status:{error:!1,reason:k.SUCCESS}}}async getUserAttributes(e){return f.info(this.constructor.name,"getUserAttributes()",e),{status:{error:!1,reason:k.SUCCESS},attributes:{}}}async getUserAttributesByKeys(e,t){return f.info(this.constructor.name,"getUserAttributesByKeys()",e),{status:{error:!1,reason:k.SUCCESS},attributes:{}}}async setChannelAttributes(e,t,r){return f.info(this.constructor.name,"setChannelAttributes()",e),{status:{error:!1,reason:A.SUCCESS}}}async addOrUpdateChannelAttributes(e,t,r){return f.info(this.constructor.name,"addOrUpdateChannelAttributes()",e),{status:{error:!1,reason:A.SUCCESS}}}async deleteChannelAttributesByKeys(e,t,r){return f.info(this.constructor.name,"deleteChannelAttributesByKeys()",e),{status:{error:!1,reason:A.SUCCESS}}}async clearChannelAttributes(e,t){return f.info(this.constructor.name,"clearChannelAttributes()",e),{status:{error:!1,reason:A.SUCCESS}}}async getChannelAttributes(e){return f.info(this.constructor.name,"getChannelAttributes()",e),{status:{error:!1,reason:A.SUCCESS},attributes:{}}}async getChannelAttributesByKeys(e,t){return f.info(this.constructor.name,"getChannelAttributesByKeys()",e),{status:{error:!1,reason:A.SUCCESS},attributes:{}}}async queryPeersOnlineStatus(e){return f.info(this.constructor.name,"queryPeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET},peerOnlineStatus:{}}}async subscribePeersOnlineStatus(e){return f.info(this.constructor.name,"subscribePeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET}}}async unsubscribePeersOnlineStatus(e){return f.info(this.constructor.name,"unsubscribePeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET}}}async getSubscribedPeersOnlineStatus(e){return f.info(this.constructor.name,"getSubscribedPeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET}}}}var B=Object.freeze({__proto__:null,get AgoraRTM(){return ie},get AgoraRTMClient(){return j},get AgoraRTMChannel(){return F},get ENUM_ERR_CODE(){return C},get ENUM_LOG_FILTER(){return l},get ENUM_MESSAGE_TYPE(){return I},get ENUM_PEER_ONLINE_STATE(){return O},get ENUM_CONNECTION_STATE(){return L},get ENUM_CONNECTION_CHANGE_REASON(){return R},get VERBOSE(){return T},get RTM_CONNECTION_CHANGE_REASON(){return M},get RTM_CONNECTION_STATE(){return E},get buildToken(){return b},get createInstance(){return q},get getVersion(){return V},get setLogLevel(){return h}});function V(){return"2.1.8"}function q(e,t){const r={appId:e,userId:"",logger:f,...t};return new j(r)}const K=q;class z extends P{constructor(e,t,r){super(e,void 0,r),this.logger=f,this.isInitialized=!1,this.rtm=t,this.init()}init(){this.isInitialized=!0,f.info(this.constructor.name,"init()")}}class H extends P{constructor(e,t,r){super(e,void 0,r),this.channels={},this.connectionState=L.DISCONNECTED,this.messageId="",this.logger=f,this.isInitialized=!1,this.rtm=t,this.init()}init(){this.isInitialized=!0,f.info(this.constructor.name,"init()")}createChannel(e){if(this.channels[e])return this.channels[e];const t=new z(this.appId,this,this.logger);return this.channels[e]=t,t}async login(e){return f.info(this.constructor.name,"login()",e),{status:{error:!1,reason:_.LOGIN_SUCCESS}}}async logout(){return f.info(this.constructor.name,"logout()"),{status:{error:!1,reason:_.LOGOUT_SUCCESS}}}async sendMessageToPeer(e,t,r){return f.info(this.constructor.name,"sendMessageToPeer",e.text),{status:{error:!1,reason:w.SUCCESS}}}async setLocalUserAttributes(e){return f.info(this.constructor.name,"setLocalUserAttributes()",e),{status:{error:!1,reason:k.SUCCESS}}}async addOrUpdateLocalUserAttributes(e){return f.info(this.constructor.name,"addOrUpdateLocalUserAttributes()",e),{status:{error:!1,reason:k.SUCCESS}}}async deleteLocalUserAttributesByKeys(e){return f.info(this.constructor.name,"deleteLocalUserAttributesByKeys()",e),{status:{error:!1,reason:k.SUCCESS}}}async clearLocalUserAttributes(){return f.info(this.constructor.name,"clearLocalUserAttributes()"),{status:{error:!1,reason:k.SUCCESS}}}async getUserAttributes(e){return f.info(this.constructor.name,"getUserAttributes()",e),{status:{error:!1,reason:k.SUCCESS},attributes:{}}}async getUserAttributesByKeys(e,t){return f.info(this.constructor.name,"getUserAttributesByKeys()",e),{status:{error:!1,reason:k.SUCCESS},attributes:{}}}async setChannelMetadata(e,t,r,n){return f.info(this.constructor.name,"setChannelMetadata()",e),{status:{error:!1,reason:A.SUCCESS}}}async updateChannelMetadata(e,t,r,n){return f.info(this.constructor.name,"updateChannelMetadata()",e),{status:{error:!1,reason:A.SUCCESS}}}async removeChannelMetadata(e,t,r,n){return f.info(this.constructor.name,"removeChannelMetadata()",e),{status:{error:!1,reason:A.SUCCESS}}}async getChannelMetadata(e,t){return f.info(this.constructor.name,"getChannelMetadata()",e),{status:{error:!1,reason:A.SUCCESS},data:{metadata:{},revision:-1}}}async setUserMetadata(e,t,r){return f.info(this.constructor.name,"setUserMetadata()",e),{status:{error:!1,reason:A.SUCCESS}}}async updateserMetadata(e,t,r){return f.info(this.constructor.name,"updateUserMetadata()",e),{status:{error:!1,reason:A.SUCCESS}}}async removeUserMetadata(e,t){return f.info(this.constructor.name,"removeUserMetadata()",e),{status:{error:!1,reason:A.SUCCESS}}}async clearUserMetadata(e,t){return f.info(this.constructor.name,"clearUserMetadata()",e),{status:{error:!1,reason:A.SUCCESS}}}async getUserMetadata(e,t){return f.info(this.constructor.name,"getUserMetadata()",e),{status:{error:!1,reason:A.SUCCESS},data:{metadata:{},revision:-1}}}async subscribeUserMetadata(e,t){return f.info(this.constructor.name,"subscribeUserMetadata()",e),{status:{error:!1,reason:A.SUCCESS}}}async unsubscribeUserMetadata(e,t){return f.info(this.constructor.name,"unsubscribeUserMetadata()",e),{status:{error:!1,reason:A.SUCCESS}}}async queryPeersOnlineStatus(e){return f.info(this.constructor.name,"queryPeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET},peerOnlineStatus:{}}}async subscribePeersOnlineStatus(e){return f.info(this.constructor.name,"subscribePeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET}}}async unsubscribePeersOnlineStatus(e){return f.info(this.constructor.name,"unsubscribePeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET}}}async getSubscribedPeersOnlineStatus(e){return f.info(this.constructor.name,"getSubscribedPeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET}}}async createStreamChannel(e){return f.info(this.constructor.name,"createStreamChannel()",e),{status:{error:!1,reason:S.UNSET}}}}var J=Object.freeze({__proto__:null,get AgoraRTM(){return ie},get AgoraRTMClient(){return H},get AgoraRTMChannel(){return z},get ENUM_ERR_CODE(){return C},get ENUM_LOG_FILTER(){return l},get ENUM_MESSAGE_TYPE(){return I},get ENUM_PEER_ONLINE_STATE(){return O},get ENUM_CONNECTION_STATE(){return L},get ENUM_CONNECTION_CHANGE_REASON(){return R},get VERBOSE(){return T},get RTM_CONNECTION_CHANGE_REASON(){return M},get RTM_CONNECTION_STATE(){return E},get buildToken(){return b},get createInstance(){return W},get getVersion(){return Z},get setLogLevel(){return h}});function Z(){return"2.1.8"}function W(e,t){const r={appId:e,userId:"",logger:f,...t};return new H(r)}const Q=W;var Y=Object.freeze({__proto__:null,get RTM(){return J},get default(){return Q}});const X=q;var ee=Object.freeze({__proto__:null,get default(){return X}});const te=(e,t)=>(f.warning(e,"Method deprecated. Please use `addOrUpdateLocalUserAttributes` instead.",t),Promise.resolve({status:{error:!1,reason:k.SUCCESS}})),re=(e,t)=>(f.warning(e,"Method deprecated. Please use `deleteLocalUserAttributesByKeys` instead.",t),Promise.resolve({status:{error:!1,reason:k.SUCCESS}}));class ne extends(s(oe,P=P),oe){constructor(e){super(e.appId,"",e.logger),this.channels={},this.connectionState=L.DISCONNECTED,this.messageId="",this.logger=f,this.isInitialized=!1,this.rtm=e,this.init()}init(){this.isInitialized=!0,f.info(this.constructor.name,"init()")}createChannel(e){if(this.channels[e])return this.channels[e];const t=new F(this.appId,e,this.logger);return this.channels[e]=t,t}async login(e){return f.info(this.constructor.name,"login()",e),this.userId=e.uid,this.rtm.userId=e.uid,{status:{error:!1,reason:_.LOGIN_SUCCESS}}}async logout(){return f.info(this.constructor.name,"logout()"),{status:{error:!1,reason:_.LOGOUT_SUCCESS}}}async sendMessageToPeer(e,t){return f.info(this.constructor.name,"sendMessageToPeer()",e.text),{status:{error:!1,reason:w.SUCCESS}}}async setLocalUserAttributes(e){return te(this.constructor.name,e)}async addOrUpdateLocalUserAttributes(e){return f.info(this.constructor.name,"addOrUpdateLocalUserAttributes()",e),{status:{error:!1,reason:k.SUCCESS}}}async deleteLocalUserAttributesByKeys(e){return re(this.constructor.name,e)}async clearLocalUserAttributes(){return f.info(this.constructor.name,"clearLocalUserAttributes()"),{status:{error:!1,reason:k.SUCCESS}}}async getUserAttributes(e){return f.info(this.constructor.name,"getUserAttributes()",e),{attributes:{},status:{error:!1,reason:k.SUCCESS}}}async getUserAttributesByKeys(e,t){return f.info(this.constructor.name,"getUserAttributesByKeys()",e),{attributes:{},status:{error:!1,reason:k.SUCCESS}}}async queryPeersOnlineStatus(e){return f.info(this.constructor.name,"queryPeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET},peerOnlineStatus:{}}}async subscribePeersOnlineStatus(e){return f.info(this.constructor.name,"subscribePeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET}}}async unsubscribePeersOnlineStatus(e){return f.info(this.constructor.name,"unsubscribePeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET}}}async getSubscribedPeersOnlineStatus(e){return f.info(this.constructor.name,"getSubscribedPeersOnlineStatus()",e),{status:{error:!1,reason:S.UNSET}}}}function oe(){}const se=ne;var ie=i(i({},{AgoraRTMChannel:F,AgoraRTMClient:se}),{createInstance:function(e,t){const r={appId:e,userId:"",logger:f,...t};return new se(r)},setLogLevel:h,getVersion:()=>"2.1.8",buildToken:b,RTM:Y});return t.default=ie,t})()}));
